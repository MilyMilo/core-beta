import{m as r,s as l,C as o}from"./vendor.119213e4.js";import"./index.c323a0c3.js";function a(e){e.select(),document.execCommand("copy")}window.Alpine=r;r.data("SettingsForm",()=>({success:null,error:null,initial:null,errors:[],init(){this.initial=l(this.$el)},async updateProfile(){this.success=null,this.error=null,this.errors=[];let e=l(this.$el,this.initial,!0);e.fields=[];for(const t in e)if(t.match(/fields\[\d+\]/)){let i={},n=parseInt(t.slice(7,-1));i.field_id=n,i.value=e[t],e.fields.push(i),delete e[t]}let s=await o.pages.settings.updateSettings(e);s.success?(this.success=!0,this.error=!1,setTimeout(()=>{this.success=null,this.error=null},3e3)):(this.success=!1,this.error=!0,Object.keys(s.errors).map(t=>{const i=s.errors[t];this.errors.push(i)}))}}));r.data("TokensForm",()=>({token:null,async generateToken(){let e=l(this.$el);e.expiration||delete e.expiration;let s=await o.pages.settings.generateToken(e);this.token=s.data.value},copyToken(){a(this.$refs.token);let e=new Tooltip(this.$refs.token,{placement:"top"});setTimeout(function(){e.hide()},1500)}}));r.start();
